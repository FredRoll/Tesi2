{% extends 'base.html' %}
{% block main %}
<head>
<script src='static/Chart.min.js'></script>
</head>

<style>
	.csv {
	  background-color: red;
	  color: white;
	  padding: 1em 1.5em;
	  text-decoration: none;
	  text-transform: uppercase;
	}
	
	.csv:hover {
	  text-decoration: none;
	  color: black;
	}
	</style>
	
<div class"container" style= "display:inline-flex;">
<h2>Grafici scelta photoshopper (tutti gli utenti)</h2></div>

<table>
	<td>
		<br>
		<canvas id="chart" width="600" height="400"></canvas></div>
	</td>
	<td>
		<br>
		<canvas id="chart2" width="600" height="400"></canvas>
	</td>
</table>
	
<br>
<br>
<a class="csv" href="/prefCSV" style="">CSV PREFERENZE</a>
<a class="csv" href="/databaseCSV">CSV DATABASE</a></div>


	
<script>
   // bar chart data
   var barData = {
   labels : [{% for item in labels %}
                  "{{item}}",
              {% endfor %}],
   datasets : [
      {
            fillColor: "rgba(151,187,205,0.2)",
            strokeColor: "rgba(151,187,205,1)",
            pointColor: "rgba(151,187,205,1)",
         data : [{% for item in values %}
                      {{item}},
                    {% endfor %}]
      }
      ]
   }
 
   // get bar chart canvas
   var mychart = document.getElementById("chart").getContext("2d");
 
   steps = 20
   max = 100
   // draw bar chart
   new Chart(mychart).Bar(barData, {
        scaleOverride: true,
        scaleSteps: steps,
        scaleStepWidth: Math.ceil(max / steps),
        scaleStartValue: 0,
        scaleShowVerticalLines: true,
        scaleShowGridLines : true,
        barShowStroke : true,
        scaleShowLabels: true
   });
 
</script>
	
<script>
   var pieData = [
            {% for item,label,colors in set %}
                {
                    value: {{item}},
                    label: "{{label}}",
                    color : "{{colors}}"
                },
                {% endfor %}
 
 
         ];
 
   // get bar chart canvas
   var mychart = document.getElementById("chart2").getContext("2d");
 
   steps = 10
   max = 10
   // draw pie chart
   new Chart(document.getElementById("chart2").getContext("2d")).Pie(pieData);
 
</script>



{% endblock %}
